# Generic shellrc to be used by both zshrc and bashrc

### From zshrc

# Make vim the default editor
export EDITOR="vim"

# Donâ€™t clear the screen after quitting a manual page
export MANPAGER="less -X"

# Highlight section titles in manual pages
export LESS_TERMCAP_md="$ORANGE"

# Load iTerm2 integration
if [[ $SHELL == *"zsh"* ]]; then
    test -e "${HOME}/.dotfiles/shellconfig/iterm2_shell_integration.zsh" && source "${HOME}/.dotfiles/shellconfig/iterm2_shell_integration.zsh"
elif [[ $SHELL == *"bash"* ]]; then
    test -e "${HOME}/.dotfiles/shellconfig/iterm2_shell_integration.bash" && source "${HOME}/.dotfiles/shellconfig/iterm2_shell_integration.bash"
fi

# Load Golang PATH
source ~/.dotfiles/shellconfig/go

# Load additional PATH
source ~/.dotfiles/shellconfig/path

# Additional functions
source ~/.dotfiles/shellconfig/funcs

# Kubernetes
if [ -x "$(command -v kubectl)" ] > /dev/null 2>&1; then
  source ~/.dotfiles/shellconfig/kubernetes
fi

# Load hub (https://github.com/github/hub)
if [ -x "$(command -v hub)" ]; then
  eval "$(hub alias -s)"
fi

if [ -x "$(command -v stern)" ] > /dev/null 2>&1; then
  source <(stern --completion=zsh)
fi

# Load additional exports
source ~/.dotfiles/shellconfig/exports

# Load generic aliases
if [ -f ~/.dotfiles/shellconfig/aliases ]; then
    source ~/.dotfiles/shellconfig/aliases
fi

# Load Mac aliases
if [ `uname -s` = 'Darwin' ]; then
    source ~/.dotfiles/shellconfig/aliases_mac
fi

# Neofetch
if [ -x "$(command -v neofetch)" ] > /dev/null 2>&1; then
    neofetch --disable packages
fi